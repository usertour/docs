---
title: 'Create or update a user'
api: 'Post /users'
---

This endpoint allows you to create a new user or update an existing one. The operation is idempotent - if a user with the specified ID already exists, the request will update the user's attributes. If the user doesn't exist, a new user will be created.

## Body Parameters

<ParamField body="id" type="string" required>
  Unique identifier for the user. This should match the user's ID in your system.
</ParamField>

<ParamField body="attributes" type="object">
  A map of user attributes to update. You can include any custom attributes. Existing attributes not included in the request will remain unchanged. See [Attributes](/api-reference/attributes) for details.
</ParamField>

<ParamField body="companies" type="array">
  A list of companies to associate with the user. This is the simplest way to add a user to companies when you don't need to specify membership attributes.
</ParamField>

<ParamField body="memberships" type="array">
  A list of company memberships to create or update. Use this when you need to specify attributes for the user's role in each company (e.g., access level, department). Each membership object must include a company object with at least the company's ID.
</ParamField>

<RequestExample>
  ```bash Basic Request
  curl https://api.usertour.io/users \
  -XPOST \
  -H 'Authorization: Bearer ak_123456789' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "usr_123456789",
        "attributes": {
          "name": "John Doe",
          "email": "john.doe@example.com",
          "signed_up_at": "2024-03-20T08:30:00.000Z"
        }
      }'
  ```

  ```bash With Companies
  curl https://api.usertour.io/users \
  -XPOST \
  -H 'Authorization: Bearer ak_123456789' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "usr_123456789",
        "attributes": {
          "name": "John Doe",
          "email": "john.doe@example.com"
        },
        "companies": [
          {
            "id": "comp_987654321",
            "attributes": {
              "name": "Acme Corporation",
              "plan": "enterprise",
              "industry": "technology"
            }
          }
        ]
      }'
  ```

  ```bash With Memberships
  curl https://api.usertour.io/users \
  -XPOST \
  -H 'Authorization: Bearer ak_123456789' \
  -H 'Content-Type: application/json' \
  -d '{
        "id": "usr_123456789",
        "attributes": {
          "name": "John Doe",
          "email": "john.doe@example.com"
        },
        "memberships": [
          {
            "attributes": {
              "role": "admin",
              "department": "engineering",
              "join_date": "2024-01-01T00:00:00.000Z"
            },
            "company": {
              "id": "comp_987654321",
              "attributes": {
                "name": "Acme Corporation",
                "plan": "enterprise",
                "industry": "technology"
              }
            }
          }
        ]
      }'
  ```
</RequestExample>

<ResponseExample>
  ```json Response
  {
    "id": "usr_123456789",
    "object": "user",
    "attributes": {
      "name": "John Doe",
      "email": "john.doe@example.com"
    },
    "created_at": "2024-03-20T08:30:00.000Z"
  }
  ```
</ResponseExample>
